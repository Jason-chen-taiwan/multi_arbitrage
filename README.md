# å¤šäº¤æ˜“æ‰€æ°¸çºŒåˆç´„äº¤æ˜“ç³»çµ±

ä¸€å€‹å°ˆæ¥­çš„è‡ªå‹•åŒ–åšå¸‚å•†ï¼ˆMarket Makerï¼‰ç³»çµ±ï¼Œæ”¯æŒå¤šå€‹æ°¸çºŒåˆç´„äº¤æ˜“æ‰€ï¼Œæä¾›é›™é‚Šæ›å–®ã€åƒ¹å·®ç®¡ç†ã€åº«å­˜æ§åˆ¶å’Œé¢¨éšªç®¡ç†åŠŸèƒ½ã€‚

## æ”¯æŒçš„äº¤æ˜“æ‰€

### å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆDEXï¼‰

- âœ… **StandX** - å®Œæ•´æ”¯æŒï¼ˆåŒ…æ‹¬ Uptime Program å„ªåŒ–ï¼‰
- âœ… **GRVT** - é©é…å™¨å·²å¯¦ç¾ï¼ˆéœ€è¦é…ç½®ï¼‰
- ğŸ”„ **å…¶ä»– DEX** - æ˜“æ–¼æ“´å±•ï¼ˆåƒè¦‹[æ·»åŠ æ–°äº¤æ˜“æ‰€æŒ‡å—](docs/ADDING_NEW_EXCHANGES.md)ï¼‰

### ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆCEXï¼‰- é€šé CCXT

- âœ… **Binance** - å…¨çƒæœ€å¤§äº¤æ˜“é‡ï¼Œæœ€é«˜ 125x æ§“æ¡¿
- âœ… **OKX** - ç¶œåˆè¡ç”Ÿå“å¹³å°ï¼Œæœ€é«˜ 125x æ§“æ¡¿
- âœ… **Bitget** - è·Ÿå–®äº¤æ˜“é ˜å…ˆï¼Œæœ€é«˜ 125x æ§“æ¡¿
- âœ… **Bybit** - å°ˆæ¥­è¡ç”Ÿå“ï¼Œæœ€é«˜ 100x æ§“æ¡¿
- âœ… **Gate.io** - å¤šæ¨£åŒ–ç”¢å“ï¼Œæœ€é«˜ 100x æ§“æ¡¿
- âœ… **å…¶ä»– 100+ CEX** - é€šé [CCXT](https://github.com/ccxt/ccxt) æ”¯æŒ

è©³è¦‹ï¼šğŸ“– [CEX é›†æˆæŒ‡å—](docs/CEX_INTEGRATION_GUIDE.md)

## ç³»çµ±ç‰¹é»

### ğŸ StandX Market Maker Uptime Program æ•´åˆ

æœ¬ç³»çµ±å·²é‡å° **StandX åšå¸‚å•†æ­£å¸¸é‹è¡Œæ™‚é–“è¨ˆåŠƒ** é€²è¡Œå„ªåŒ–ï¼š

- ğŸ’° **è¢«å‹•æ”¶å…¥**ï¼šæ¯æœˆ 500 è¬ä»£å¹£çå‹µæ± 
- ğŸ¯ **è‡ªå‹•ç¬¦åˆæ¢ä»¶**ï¼šç¶­æŒ 10 bps åƒ¹å·®å…§çš„é›™é‚Šæ›å–®
- â±ï¸ **æ­£å¸¸é‹è¡Œæ™‚é–“è¿½è¹¤**ï¼š70%+ æ­£å¸¸é‹è¡Œæ™‚é–“ = 1.0x ä¹˜æ•¸ï¼ˆBoosted å±¤ç´šï¼‰
- ğŸ’ **æ‰‹çºŒè²»æŠ˜æ‰£**ï¼šç´¯ç© 360+ å°æ™‚ï¼ˆMM1ï¼‰æˆ– 504+ å°æ™‚ï¼ˆMM2ï¼‰è§£é–ç‰¹æ®Šè²»ç‡
  - MM1: 2.25 bps taker fee + 0.25 bps maker rebate
  - MM2: 2.00 bps taker fee + 0.50 bps maker rebate
- ğŸ“Š **æœ€å¤§åŒ– Maker Hours**ï¼šæ™ºèƒ½è¨‚å–®å¤§å°ç®¡ç†ï¼ˆæœ€é«˜ 2 BTCï¼‰

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **å¤šäº¤æ˜“æ‰€æ”¯æŒ**ï¼šçµ±ä¸€é©é…å™¨æ¥å£ï¼Œè¼•é¬†æ·»åŠ æ–°äº¤æ˜“æ‰€
- âœ… **é›™é‚Šåšå¸‚**ï¼šåŒæ™‚åœ¨è²·è³£å…©å´æä¾›æµå‹•æ€§
- âœ… **å‹•æ…‹åƒ¹å·®ç®¡ç†**ï¼šæ ¹æ“šå¸‚å ´æ³¢å‹•ç‡è‡ªå‹•èª¿æ•´åƒ¹å·®ï¼ˆç¬¦åˆ 10 bps è¦æ±‚ï¼‰
- âœ… **åº«å­˜æ§åˆ¶**ï¼šæ™ºèƒ½ç®¡ç†æŒå€‰åç§»ï¼Œé¿å…å–®é‚Šé¢¨éšª
- âœ… **é¢¨éšªç®¡ç†**ï¼šå¯¦æ™‚ç›£æ§å€‰ä½ã€PnL å’Œé¢¨éšªæŒ‡æ¨™
- âœ… **è·¨äº¤æ˜“æ‰€å¥—åˆ©**ï¼šåŒæ™‚é€£æ¥å¤šå€‹äº¤æ˜“æ‰€ï¼Œå°‹æ‰¾å¥—åˆ©æ©Ÿæœƒ
- âœ… **æ­£å¸¸é‹è¡Œæ™‚é–“å„ªåŒ–**ï¼šè‡ªå‹•ç¶­æŒ 70%+ æ­£å¸¸é‹è¡Œæ™‚é–“ä»¥ç²å¾—æœ€å¤§çå‹µ
- âœ… **WebSocket å¯¦æ™‚æ›´æ–°**ï¼šå³æ™‚æ¥æ”¶è¨‚å–®ç‹€æ…‹å’Œå¸‚å ´æ•¸æ“š

### åšå¸‚ç­–ç•¥

1. **åŸºç¤åšå¸‚ç­–ç•¥**ï¼šå›ºå®šåƒ¹å·®çš„ç°¡å–®é›™é‚Šå ±åƒ¹
2. **è‡ªé©æ‡‰åšå¸‚ç­–ç•¥**ï¼šæ ¹æ“šå¸‚å ´æ¢ä»¶å‹•æ…‹èª¿æ•´
3. **Uptime å„ªåŒ–ç­–ç•¥**ï¼šå°ˆé–€é‡å° StandX Uptime Program å„ªåŒ–ï¼ˆæ¨è–¦ï¼‰
   - åš´æ ¼ 10 bps åƒ¹å·®æ§åˆ¶
   - æœ€å¤§åŒ–è¨‚å–®å¤§å°ï¼ˆ2 BTCï¼‰
   - 70%+ æ­£å¸¸é‹è¡Œæ™‚é–“ç¶­è­·
   - è‡ªå‹• Maker Hours è¿½è¹¤

## å¤šäº¤æ˜“æ‰€æ¶æ§‹

ç³»çµ±ä½¿ç”¨ **é©é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰** ä¾†æ”¯æŒå¤šå€‹äº¤æ˜“æ‰€ï¼Œä½¿å¾—æ·»åŠ æ–°äº¤æ˜“æ‰€è®Šå¾—ç°¡å–®ï¼š

```text
         Strategy Layer
              â”‚
              â–¼
    BasePerpAdapter (Interface)
              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼               â–¼         â–¼
   StandX          GRVT       å…¶ä»–...
   Adapter        Adapter     Adapter
```

### å¿«é€Ÿæ¸¬è©¦å¤šäº¤æ˜“æ‰€

```bash
# æ¸¬è©¦æ‰€æœ‰å·²é…ç½®çš„äº¤æ˜“æ‰€ä¸¦æ¯”è¼ƒåƒ¹æ ¼
python scripts/test_multi_exchange.py
```

è¼¸å‡ºç¤ºä¾‹ï¼š

```text
ğŸ“Š PRICE COMPARISON SUMMARY
Symbol: BTC-USD
--------------------------------------------------------------------------------
Exchange        Best Bid        Best Ask          Spread     Spread %
--------------------------------------------------------------------------------
STANDX          $95,123.50      $95,145.20         $21.70       0.0228%
GRVT            $95,125.80      $95,142.90         $17.10       0.0180%

ğŸ’° ARBITRAGE OPPORTUNITIES
STANDX â†” GRVT:
  âœ… Buy on STANDX @ $95,145.20
     Sell on GRVT @ $95,125.80
     Profit: $-19.40 (-0.0204%)
```

### æ·»åŠ æ–°äº¤æ˜“æ‰€

åªéœ€ 3 æ­¥å³å¯æ·»åŠ æ–°äº¤æ˜“æ‰€æ”¯æŒï¼š

1. å‰µå»ºé©é…å™¨é¡ï¼ˆç¹¼æ‰¿ `BasePerpAdapter`ï¼‰
2. åœ¨ Factory ä¸­è¨»å†Š
3. æ·»åŠ ç’°å¢ƒè®Šé‡é…ç½®

è©³ç´°æŒ‡å—ï¼šğŸ“– [æ·»åŠ æ–°äº¤æ˜“æ‰€æŒ‡å—](docs/ADDING_NEW_EXCHANGES.md)

## ğŸ” å¯¦æ™‚å¥—åˆ©ç›£æ§ç³»çµ±

ç³»çµ±æä¾›å®Œæ•´çš„ **è·¨äº¤æ˜“æ‰€å¯¦æ™‚ç›£æ§å’Œå¥—åˆ©æª¢æ¸¬** åŠŸèƒ½ï¼š

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **å¯¦æ™‚åƒ¹æ ¼ç›£æ§**ï¼šä¸¦è¡Œç›£æ§å¤šå€‹äº¤æ˜“æ‰€çš„ BTC/ETH åƒ¹æ ¼
- âœ… **è¨‚å–®ç°¿æ·±åº¦åˆ†æ**ï¼šå¯¦æ™‚ç²å–æœ€ä½³è²·è³£åƒ¹å’Œæ·±åº¦
- âœ… **è‡ªå‹•å¥—åˆ©æª¢æ¸¬**ï¼šæ™ºèƒ½æª¢æ¸¬è·¨äº¤æ˜“æ‰€å¥—åˆ©æ©Ÿæœƒ
- âœ… **åˆ©æ½¤è¨ˆç®—**ï¼šè€ƒæ…®äº¤æ˜“è²»ç”¨å¾Œçš„æ·¨åˆ©æ½¤
- âœ… **çµ±è¨ˆå ±å‘Š**ï¼šå¯¦æ™‚é¡¯ç¤ºå¸‚å ´æ•¸æ“šå’Œå¥—åˆ©æ©Ÿæœƒ

### å•Ÿå‹•ç›£æ§

```bash
# ä½¿ç”¨çµ±ä¸€å•Ÿå‹•ä»‹é¢ï¼ˆæ¨è–¦ï¼‰
python arbitrage.py monitor

# æˆ–ç›´æ¥é‹è¡Œç›£æ§è…³æœ¬
python scripts/monitor_arbitrage.py
```

ç›£æ§ç³»çµ±æœƒï¼š

1. è‡ªå‹•é€£æ¥æ‰€æœ‰å·²é…ç½®çš„äº¤æ˜“æ‰€ï¼ˆå¾ .env è®€å–ï¼‰
2. å¯¦æ™‚ç²å– BTC å’Œ ETH æ°¸çºŒåˆç´„åƒ¹æ ¼
3. æ¯ 2 ç§’æ›´æ–°ä¸€æ¬¡åƒ¹æ ¼æ•¸æ“š
4. è‡ªå‹•æª¢æ¸¬å¥—åˆ©æ©Ÿæœƒï¼ˆåˆ©æ½¤é–¾å€¼ï¼š0.1%ï¼‰
5. æ¯ 10 ç§’é¡¯ç¤ºçµ±è¨ˆå ±å‘Š

### è¼¸å‡ºç¤ºä¾‹

```text
================================================================================
ğŸ’° ARBITRAGE OPPORTUNITIES DETECTED: 2
================================================================================

ğŸ”¥ BTC/USDT:USDT Arbitrage:
  Buy:  BINANCE     @ $ 95,123.50 (size: 1.5)
  Sell: OKX         @ $ 95,245.20 (size: 1.2)
  ğŸ’° Profit: $  121.70 (0.1280%)
  ğŸ“Š Max Qty: 1.2

ğŸ”¥ ETH/USDT:USDT Arbitrage:
  Buy:  BITGET      @ $  3,245.80 (size: 10.0)
  Sell: BYBIT       @ $  3,251.50 (size: 8.5)
  ğŸ’° Profit: $    5.70 (0.1756%)
  ğŸ“Š Max Qty: 8.5
================================================================================

================================================================================
ğŸ“Š MONITOR STATISTICS
================================================================================
â±ï¸  Runtime: 2026-01-12 15:30:45
ğŸ“ˆ Total Updates: 1,234
ğŸ’° Total Opportunities Found: 45

ğŸ“Š Exchange Status:
  BINANCE         - Symbols: 2/2, Failures: 0
  OKX             - Symbols: 2/2, Failures: 0
  BITGET          - Symbols: 2/2, Failures: 1
  BYBIT           - Symbols: 2/2, Failures: 0

ğŸ’µ Current Prices:

  BTC/USDT:USDT:
    BINANCE         - Bid: $ 95,123.50 | Ask: $ 95,145.20 | Spread: 0.0228%
    OKX             - Bid: $ 95,125.80 | Ask: $ 95,142.90 | Spread: 0.0180%
    BITGET          - Bid: $ 95,120.30 | Ask: $ 95,148.60 | Spread: 0.0298%
    BYBIT           - Bid: $ 95,124.70 | Ask: $ 95,144.10 | Spread: 0.0204%

  ETH/USDT:USDT:
    BINANCE         - Bid: $  3,245.80 | Ask: $  3,247.50 | Spread: 0.0524%
    OKX             - Bid: $  3,246.20 | Ask: $  3,247.10 | Spread: 0.0277%
================================================================================
```

### é…ç½®é¸é …

ç·¨è¼¯ [scripts/monitor_arbitrage.py](scripts/monitor_arbitrage.py:42-44) ä¿®æ”¹ç›£æ§åƒæ•¸ï¼š

```python
# é…ç½®è¦ç›£æ§çš„äº¤æ˜“å°
symbols_config = {
    'cex': ['BTC/USDT:USDT', 'ETH/USDT:USDT'],  # CEX ç¬¦è™Ÿ
    'dex': ['BTC-USD', 'ETH-USD']  # DEX ç¬¦è™Ÿ
}

# å‰µå»ºç›£æ§å™¨
monitor = MultiExchangeMonitor(
    adapters=adapters,
    symbols=symbols,
    update_interval=2.0,  # æ›´æ–°é–“éš”ï¼ˆç§’ï¼‰
    min_profit_pct=0.1    # æœ€å°å¥—åˆ©åˆ©æ½¤ï¼ˆ%ï¼‰
)
```

è©³ç´°æŒ‡å—ï¼šğŸ“– [å¥—åˆ©ç›£æ§æŒ‡å—](docs/ARBITRAGE_MONITORING_GUIDE.md)

## æ¶æ§‹è¨­è¨ˆ

```text
arbitrage/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ auth/              # èªè­‰æ¨¡çµ„
â”‚   â”‚   â””â”€â”€ standx_auth.py # StandX èªè­‰å¯¦ç¾
â”‚   â”œâ”€â”€ exchange/          # äº¤æ˜“æ‰€é€£æ¥å™¨
â”‚   â”‚   â”œâ”€â”€ base.py        # åŸºç¤äº¤æ˜“æ‰€ä»‹é¢
â”‚   â”‚   â””â”€â”€ standx.py      # StandX API å¯¦ç¾
â”‚   â”œâ”€â”€ strategy/          # åšå¸‚ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ base.py        # åŸºç¤ç­–ç•¥é¡
â”‚   â”‚   â”œâ”€â”€ simple_mm.py   # ç°¡å–®åšå¸‚ç­–ç•¥
â”‚   â”‚   â””â”€â”€ adaptive_mm.py # è‡ªé©æ‡‰åšå¸‚ç­–ç•¥
â”‚   â”œâ”€â”€ risk/              # é¢¨éšªç®¡ç†
â”‚   â”‚   â”œâ”€â”€ position.py    # å€‰ä½ç®¡ç†
â”‚   â”‚   â””â”€â”€ risk_manager.py # é¢¨éšªæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ monitor/           # ç›£æ§ç³»çµ±
â”‚   â”‚   â””â”€â”€ dashboard.py   # å¯¦æ™‚ç›£æ§é¢æ¿
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•¸
â”‚       â”œâ”€â”€ logger.py      # æ—¥èªŒç³»çµ±
â”‚       â””â”€â”€ metrics.py     # æ€§èƒ½æŒ‡æ¨™
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ config.yaml        # ä¸»é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ strategies.yaml    # ç­–ç•¥é…ç½®
â”œâ”€â”€ tests/                 # æ¸¬è©¦æ–‡ä»¶
â”œâ”€â”€ scripts/               # é‹è¡Œè…³æœ¬
â”‚   â””â”€â”€ run_mm.py         # å•Ÿå‹•åšå¸‚å•†
â”œâ”€â”€ requirements.txt       # Python ä¾è³´
â””â”€â”€ .env.example          # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹

```

## åšå¸‚å•†æ ¸å¿ƒæ¦‚å¿µ

### 1. åƒ¹å·®ï¼ˆSpreadï¼‰

```python
# ä¸­é–“åƒ¹ = (æœ€ä½³è²·åƒ¹ + æœ€ä½³è³£åƒ¹) / 2
mid_price = (best_bid + best_ask) / 2

# åšå¸‚å•†å ±åƒ¹
bid_price = mid_price * (1 - spread / 2)
ask_price = mid_price * (1 + spread / 2)
```

### 2. åº«å­˜ç®¡ç†ï¼ˆInventory Managementï¼‰

```python
# ç›®æ¨™å€‰ä½ï¼šç¶­æŒæ¥è¿‘ä¸­æ€§
target_position = 0

# ç•¶å‰åº«å­˜åç§»
inventory_skew = current_position - target_position

# æ ¹æ“šåº«å­˜èª¿æ•´åƒ¹å·®
if inventory_skew > 0:  # å¤šé ­éå¤š
    bid_price -= inventory_adjustment
    ask_price -= inventory_adjustment
elif inventory_skew < 0:  # ç©ºé ­éå¤š
    bid_price += inventory_adjustment
    ask_price += inventory_adjustment
```

### 3. é¢¨éšªæ§åˆ¶

- **æœ€å¤§å€‰ä½é™åˆ¶**ï¼šé¿å…å–®é‚Šé¢¨éšªéå¤§
- **æ¯æ—¥æå¤±é™åˆ¶**ï¼šé”åˆ°æå¤±é–¾å€¼å¾Œåœæ­¢äº¤æ˜“
- **è¨‚å–®æ•¸é‡é™åˆ¶**ï¼šæ§åˆ¶åŒæ™‚æ›å–®æ•¸é‡
- **åƒ¹æ ¼ä¿è­·**ï¼šé¿å…åœ¨ä¸åˆ©åƒ¹æ ¼æˆäº¤

## ğŸš€ ä¸€éµå•Ÿå‹•

**æœ€ç°¡å–®çš„æ–¹å¼** - è‡ªå‹•è™•ç†è™›æ“¬ç’°å¢ƒå’Œä¾è³´ï¼š

```bash
# é¦–æ¬¡ä½¿ç”¨ï¼ˆè³¦äºˆåŸ·è¡Œæ¬Šé™ï¼‰
chmod +x start.sh

# äº’å‹•å¼é¸å–®ï¼ˆæ¨è–¦ï¼‰
./start.sh

# æˆ–ç›´æ¥å•Ÿå‹•ç‰¹å®šåŠŸèƒ½
./start.sh config      # é…ç½®ç®¡ç†é¢æ¿
./start.sh arb         # å¥—åˆ©ç›£æ§ Dashboard (æ¨è–¦)
./start.sh monitor     # å¯¦æ™‚å¥—åˆ©ç›£æ§ (çµ‚ç«¯ç‰ˆ)
./start.sh test        # æ¸¬è©¦äº¤æ˜“æ‰€é€£æ¥
./start.sh dashboard   # å–®äº¤æ˜“æ‰€ä¸»æ§é¢æ¿
```

start.sh è…³æœ¬æœƒè‡ªå‹•ï¼š

- âœ… æª¢æŸ¥ä¸¦å‰µå»ºè™›æ“¬ç’°å¢ƒ
- âœ… å®‰è£ç¼ºå¤±çš„ä¾è³´
- âœ… æª¢æŸ¥ä¸¦å‰µå»º .env æ–‡ä»¶
- âœ… å•Ÿå‹•ç³»çµ±

### æ‰‹å‹•å•Ÿå‹•ï¼ˆé€²éšç”¨æˆ¶ï¼‰

å¦‚æœæ‚¨æƒ³æ‰‹å‹•ç®¡ç†ç’°å¢ƒï¼š

```bash
# 1. å®‰è£ä¾è³´
pip install -r requirements.txt

# 2. å•Ÿå‹•ç³»çµ±
python arbitrage.py              # äº’å‹•å¼é¸å–®
python arbitrage.py config       # é…ç½®ç®¡ç†é¢æ¿
python arbitrage.py monitor      # å¯¦æ™‚å¥—åˆ©ç›£æ§
python arbitrage.py test         # æ¸¬è©¦äº¤æ˜“æ‰€é€£æ¥
python arbitrage.py dashboard    # å¤šäº¤æ˜“æ‰€ä¸»æ§é¢æ¿
```

### 3. é…ç½®äº¤æ˜“æ‰€

#### ğŸŒ ä½¿ç”¨ Web é…ç½®é¢æ¿ï¼ˆæ¨è–¦ï¼‰

```bash
# å•Ÿå‹•é…ç½®é¢æ¿
python arbitrage.py config
```

è¨ªå• <http://localhost:8001>ï¼Œåœ¨ Web UI ä¸­è¼•é¬†é…ç½®ï¼š

- âœ… **è¦–è¦ºåŒ–é…ç½®**ï¼šç„¡éœ€æ‰‹å‹•ç·¨è¼¯ .env
- âœ… **è‡ªå‹•é©—è­‰**ï¼šç¢ºä¿é…ç½®æ­£ç¢ºæ€§
- âœ… **å®‰å…¨é®ç½©**ï¼šæ†‘è­‰è‡ªå‹•éš±è—æ•æ„Ÿéƒ¨åˆ†
- âœ… **ä¸€éµæ“ä½œ**ï¼šä¿å­˜/åˆªé™¤é…ç½®
- âœ… **æ”¯æ´æ‰€æœ‰äº¤æ˜“æ‰€**ï¼šDEX (StandX, GRVT) + CEX (Binance, OKX, Bitget, Bybit)

#### ğŸ“ æˆ–æ‰‹å‹•ç·¨è¼¯ .env

```bash
cp .env.example .env
# ç·¨è¼¯ .env å¡«å…¥æ‚¨çš„é…ç½®
```

### 4. é–‹å§‹äº¤æ˜“

é…ç½®å®Œæˆå¾Œï¼Œé¸æ“‡æ‚¨è¦ä½¿ç”¨çš„åŠŸèƒ½ï¼š

```bash
# å¯¦æ™‚ç›£æ§å¥—åˆ©æ©Ÿæœƒ
python arbitrage.py monitor

# æ¸¬è©¦æ‰€æœ‰äº¤æ˜“æ‰€é€£æ¥
python arbitrage.py test

# æŸ¥çœ‹å¤šäº¤æ˜“æ‰€ä¸»æ§é¢æ¿
python arbitrage.py dashboard
```

## ğŸ“‹ ç³»çµ±åŠŸèƒ½è©³è§£

### ğŸ”§ é…ç½®ç®¡ç†é¢æ¿

è¦–è¦ºåŒ–ç®¡ç†æ‰€æœ‰äº¤æ˜“æ‰€ API é…ç½®ï¼Œç„¡éœ€æ‰‹å‹•ç·¨è¼¯æ–‡ä»¶ã€‚

```bash
./start.sh config
# æˆ–
python arbitrage.py config
```

**è¨ªå•**: <http://localhost:8001>

**åŠŸèƒ½**:

- è¦–è¦ºåŒ–é…ç½®æ‰€æœ‰ DEX/CEX äº¤æ˜“æ‰€
- å®‰å…¨çš„æ†‘è­‰é®ç½©é¡¯ç¤º
- ä¸€éµä¿å­˜/åˆªé™¤é…ç½®
- Testnet æ¨¡å¼åˆ‡æ›

### ğŸ”¥ å¥—åˆ©ç›£æ§ Dashboardï¼ˆæ¨è–¦ï¼‰

**Web UI å¯¦æ™‚ç›£æ§è·¨äº¤æ˜“æ‰€å¥—åˆ©æ©Ÿæœƒ** - æœ€ç›´è§€çš„ç›£æ§æ–¹å¼ï¼

```bash
./start.sh arb
# æˆ–
python arbitrage.py arb
```

**è¨ªå•**: <http://localhost:8002>

**åŠŸèƒ½ç‰¹è‰²**:

- ğŸ¨ **ç¾ä»£åŒ–æ·±è‰²ä¸»é¡Œä»‹é¢** - å°ˆæ¥­é‡‘è UI è¨­è¨ˆ
- ğŸ“Š **å¯¦æ™‚åƒ¹æ ¼å°æ¯”** - ä¸¦æ’é¡¯ç¤ºæ‰€æœ‰äº¤æ˜“æ‰€åƒ¹æ ¼
- ğŸ’° **å¥—åˆ©æ©Ÿæœƒå¡ç‰‡** - æ¸…æ™°é¡¯ç¤ºè²·è³£é›™æ–¹å’Œåˆ©æ½¤
- ğŸ“ˆ **çµ±è¨ˆå„€è¡¨æ¿** - é‹è¡Œæ™‚é–“ã€æ›´æ–°æ¬¡æ•¸ã€æ©Ÿæœƒç¸½æ•¸
- âš¡ **1ç§’åˆ·æ–°** - è¶…ä½å»¶é²å¯¦æ™‚æ›´æ–°
- ğŸ”„ **WebSocket é€£æ¥** - é«˜æ•ˆçš„å¯¦æ™‚æ•¸æ“šæ¨é€
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´æ¡Œé¢å’Œç§»å‹•è¨­å‚™

**é¡¯ç¤ºå…§å®¹**:

- å„äº¤æ˜“æ‰€çš„æœ€ä½³è²·åƒ¹/è³£åƒ¹
- è¨‚å–®ç°¿æ·±åº¦ï¼ˆè²·ç›¤/è³£ç›¤æ•¸é‡ï¼‰
- åƒ¹å·®ç™¾åˆ†æ¯”
- ç•¶å‰å¥—åˆ©æ©Ÿæœƒï¼ˆåŒ…å«é æœŸåˆ©æ½¤ï¼‰
- å¯åŸ·è¡Œæ•¸é‡
- å¯¦æ™‚çµ±è¨ˆæ•¸æ“š

### ğŸ” å¯¦æ™‚å¥—åˆ©ç›£æ§ï¼ˆçµ‚ç«¯ç‰ˆï¼‰

çµ‚ç«¯ç‰ˆå¥—åˆ©ç›£æ§ï¼Œé©åˆä¼ºæœå™¨ç’°å¢ƒæˆ–å–œæ­¡å‘½ä»¤è¡Œçš„ç”¨æˆ¶ã€‚

```bash
./start.sh monitor
# æˆ–
python arbitrage.py monitor
```

**åŠŸèƒ½**:

- ä¸¦è¡Œç›£æ§å¤šäº¤æ˜“æ‰€ BTC/ETH åƒ¹æ ¼
- å¯¦æ™‚è¨‚å–®ç°¿æ·±åº¦åˆ†æ
- è‡ªå‹•æª¢æ¸¬å¥—åˆ©æ©Ÿæœƒï¼ˆè€ƒæ…®æ‰‹çºŒè²»ï¼‰
- æ¯ 2 ç§’æ›´æ–°åƒ¹æ ¼æ•¸æ“š
- æ¯ 10 ç§’é¡¯ç¤ºçµ±è¨ˆå ±å‘Š

### ğŸ§ª æ¸¬è©¦äº¤æ˜“æ‰€é€£æ¥

å¿«é€Ÿæ¸¬è©¦æ‰€æœ‰å·²é…ç½®äº¤æ˜“æ‰€çš„é€£æ¥ç‹€æ…‹ã€‚

```bash
./start.sh test
# æˆ–
python arbitrage.py test
```

### ğŸ“Š å–®äº¤æ˜“æ‰€ä¸»æ§é¢æ¿

Web Dashboard ç›£æ§å–®å€‹äº¤æ˜“æ‰€çš„è©³ç´°ç‹€æ…‹ï¼ˆå¸³æˆ¶é¤˜é¡ã€æŒå€‰ã€è¨‚å–®ï¼‰ã€‚

```bash
./start.sh dashboard
# æˆ–
python arbitrage.py dashboard
```

**è¨ªå•**: <http://localhost:8000>

## ç­–ç•¥é…ç½®

### æ¨™æº–åšå¸‚ç­–ç•¥

ç·¨è¼¯ `config/config.yaml`ï¼š

```yaml
strategy:
  name: simple_mm
  symbol: BTC-USD
  base_spread: 0.001 # 0.1% åƒ¹å·®
  order_size: 0.01 # æ¯æ¬¡ä¸‹å–®æ•¸é‡
```

#### ğŸ¯ Uptime Program ç­–ç•¥ï¼ˆæ¨è–¦ç”¨æ–¼çå‹µè¨ˆåŠƒï¼‰

ä½¿ç”¨å°ˆé–€çš„ `config/uptime_config.yaml`ï¼š

```yaml
strategy:
  name: uptime_mm # Uptime å„ªåŒ–ç­–ç•¥
  symbol: BTC-USD
  base_spread: 0.0008 # 8 bpsï¼ˆç¬¦åˆ 10 bps è¦æ±‚ï¼‰
  order_size: 2.0 # 2 BTCï¼ˆæœ€å¤§åŒ– Maker Hoursï¼‰
  target_uptime: 0.70 # 70%+ ç²å¾— Boosted tier
```

**Uptime Program å„ªå‹¢**ï¼š

- æ¯æœˆ 500 è¬ä»£å¹£çå‹µæ± 
- MM1 (360+ hrs): 2.25 bps taker + 0.25 bps maker rebate
- MM2 (504+ hrs): 2.00 bps taker + 0.50 bps maker rebate

### 4. é‹è¡Œåšå¸‚å•†

#### ä½¿ç”¨ä¾¿æ·è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

```bash
# Uptime Program å„ªåŒ–ç­–ç•¥
./run.sh start-uptime

# æ¨™æº–æ¨¡å¼
./run.sh start

# è‡ªå®šç¾©é…ç½®
./run.sh start config/my_config.yaml
```

#### æ‰‹å‹•é‹è¡Œ

æ¿€æ´»è™›æ“¬ç’°å¢ƒå¾Œé‹è¡Œï¼š

```bash
# æ¿€æ´»è™›æ“¬ç’°å¢ƒ
source venv/bin/activate

# æ¨™æº–æ¨¡å¼
python scripts/run_mm.py

# ğŸ¯ Uptime Program æ¨¡å¼ï¼ˆæ¨è–¦ï¼‰
python scripts/run_mm.py config/uptime_config.yaml
```

## åšå¸‚ç­–ç•¥èªªæ˜

### ç°¡å–®åšå¸‚ç­–ç•¥ï¼ˆSimple Market Makingï¼‰

åœ¨å¸‚å ´ä¸­é–“åƒ¹ä¸Šä¸‹å›ºå®šåƒ¹å·®è™•æ›å–®ï¼š

```python
mid_price = market.get_mid_price()
spread = config.base_spread

bid_price = mid_price * (1 - spread)
bid_size = config.order_size

ask_price = mid_price * (1 + spread)
ask_size = config.order_size
```

**é©ç”¨å ´æ™¯**ï¼š

- ä½æ³¢å‹•å¸‚å ´
- é«˜æµå‹•æ€§äº¤æ˜“å°
- åˆå­¸è€…ç·´ç¿’

### è‡ªé©æ‡‰åšå¸‚ç­–ç•¥ï¼ˆAdaptive Market Makingï¼‰

æ ¹æ“šå¸‚å ´æ¢ä»¶å‹•æ…‹èª¿æ•´åƒ¹å·®å’Œè¨‚å–®æ•¸é‡ï¼š

```python
# è¨ˆç®—æ³¢å‹•ç‡
volatility = calculate_volatility(recent_prices, window=20)

# å‹•æ…‹èª¿æ•´åƒ¹å·®
spread = base_spread * (1 + volatility_multiplier * volatility)

# æ ¹æ“šåº«å­˜èª¿æ•´å ±åƒ¹
inventory_factor = current_position / max_position
bid_adjustment = inventory_factor * skew_coefficient
ask_adjustment = -inventory_factor * skew_coefficient

bid_price = mid_price * (1 - spread) + bid_adjustment
ask_price = mid_price * (1 + spread) + ask_adjustment
```

**é©ç”¨å ´æ™¯**ï¼š

- ä¸­é«˜æ³¢å‹•å¸‚å ´
- éœ€è¦æ›´å¥½çš„é¢¨éšªæ§åˆ¶
- å°ˆæ¥­åšå¸‚å•†

## ç›£æ§æŒ‡æ¨™

### ğŸŒ Web å‰ç«¯ Dashboard

ç³»çµ±æä¾›å°ˆæ¥­çš„ **Web å‰ç«¯ Dashboard**ï¼Œå…·å‚™å¯¦æ™‚åœ–è¡¨å’Œè¦–è¦ºåŒ–ç›£æ§ï¼š

**åŠŸèƒ½ç‰¹è‰²**ï¼š

- ğŸ“Š å¯¦æ™‚ PnL å’Œå€‰ä½è¶¨å‹¢åœ–ï¼ˆChart.jsï¼‰
- ğŸ¨ ç¾ä»£åŒ–æ·±è‰²ä¸»é¡Œä»‹é¢
- âš¡ WebSocket å¯¦æ™‚æ›´æ–°
- ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆï¼ˆæ”¯æ´æ‰‹æ©Ÿ/å¹³æ¿ï¼‰
- ğŸŒ é ç¨‹è¨ªå•èƒ½åŠ›

**å¿«é€Ÿå•Ÿå‹•**ï¼š

```bash
# åƒ…å•Ÿå‹• Web Dashboard
python scripts/run_dashboard.py

# Dashboard + æ¨¡æ“¬æ•¸æ“šï¼ˆæ¨è–¦é«”é©—ï¼‰
python scripts/demo_web_dashboard.py
```

ç„¶å¾Œè¨ªå•ï¼š**http://localhost:8000**

### å¯¦æ™‚çµ‚ç«¯ Dashboard

ç³»çµ±åŒæ™‚é…å‚™å®Œæ•´çš„çµ‚ç«¯å¯¦æ™‚ç›£æ§ Dashboardï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ğŸ“Š Uptime Market Maker                              â•‘
â•‘                            2026-01-12 15:30:45                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ ğŸ’° Performance Metrics                                                       â•‘
â•‘   é‹è¡Œæ™‚é–“: 12.50 å°æ™‚                                                        â•‘
â•‘   å·²å¯¦ç¾ PnL: ğŸŸ¢ $+234.56                                                    â•‘
â•‘   æœªå¯¦ç¾ PnL: ğŸŸ¢ $+45.23                                                     â•‘
â•‘   ç¸½ PnL:     ğŸŸ¢ $+279.79                                                    â•‘
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â•‘ ğŸ“ Position & Volume                                                         â•‘
â•‘   ç•¶å‰å€‰ä½: +0.2500 BTC                                                      â•‘
â•‘   ç´¯è¨ˆæˆäº¤é‡: 45.6000 BTC                                                    â•‘
â•‘   åº«å­˜å‘¨è½‰ç‡: 3.65 æ¬¡/å°æ™‚                                                   â•‘
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â•‘ ğŸ“‹ Order Statistics                                                          â•‘
â•‘   è¨‚å–®æˆäº¤ç‡: ğŸŸ¢ 71.4%                                                       â•‘
â•‘   å¹³å‡åƒ¹å·®: 8.25 bps                                                         â•‘
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â•‘ â±ï¸  Uptime Program Status                                                    â•‘
â•‘   æ­£å¸¸é‹è¡Œæ™‚é–“: 75.3%                                                        â•‘
â•‘   çå‹µå±¤ç´š: ğŸŸ¢ Boosted (1.0x)                                                â•‘
â•‘   é ä¼° Maker Hours: 1.00/å°æ™‚ (720/æœˆ)                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### è¿½è¹¤æŒ‡æ¨™

ç³»çµ±å¯¦æ™‚è¿½è¹¤ä»¥ä¸‹æŒ‡æ¨™ï¼š

- **ç¸½æˆäº¤é‡**ï¼šç´¯è¨ˆæˆäº¤æ•¸é‡
- **å·²å¯¦ç¾ PnL**ï¼šå·²å¹³å€‰æç›Š
- **æœªå¯¦ç¾ PnL**ï¼šç•¶å‰æŒå€‰æç›Š
- **ç•¶å‰å€‰ä½**ï¼šå¤šç©ºæŒå€‰æ•¸é‡
- **è¨‚å–®æˆäº¤ç‡**ï¼šæˆäº¤è¨‚å–® / ç¸½è¨‚å–®
- **å¹³å‡åƒ¹å·®**ï¼šå¯¦éš›æˆäº¤åƒ¹å·®
- **åº«å­˜å‘¨è½‰ç‡**ï¼šå€‰ä½è®ŠåŒ–é »ç‡
- **æ­£å¸¸é‹è¡Œæ™‚é–“**ï¼šUptime Program è³‡æ ¼è¿½è¹¤ï¼ˆ70%+ ç²å¾— Boosted tierï¼‰
- **Maker Hours**ï¼šé ä¼°æ¯æœˆç´¯è¨ˆæ™‚æ•¸

### æ¸¬è©¦ Dashboard

**Web Dashboardï¼ˆæ¨è–¦ï¼‰**ï¼š

```bash
# é‹è¡Œ Web Dashboard æ¼”ç¤ºï¼ˆ5 åˆ†é˜ï¼‰
python scripts/demo_web_dashboard.py

# è‡ªå®šç¾©æ™‚é•·
python scripts/demo_web_dashboard.py --duration 300

# åƒ…å•Ÿå‹• Dashboard Server
python scripts/run_dashboard.py
```

**çµ‚ç«¯ Dashboard**ï¼š

```bash
# é‹è¡Œçµ‚ç«¯ Dashboard æ¸¬è©¦ï¼ˆ60 ç§’æ¨¡æ“¬ï¼‰
python scripts/test_dashboard.py

# é‹è¡Œæ›´é•·æ™‚é–“çš„æ¸¬è©¦
python scripts/test_dashboard.py --duration 120
```

è©³ç´°ä½¿ç”¨èªªæ˜ï¼š

- [Web Dashboard ä½¿ç”¨æŒ‡å—](docs/WEB_DASHBOARD_GUIDE.md) - **åœ–å½¢åŒ–ä»‹é¢**
- [çµ‚ç«¯ Dashboard ä½¿ç”¨æŒ‡å—](docs/DASHBOARD_GUIDE.md) - å‘½ä»¤è¡Œä»‹é¢

## é¢¨éšªè­¦ç¤º

âš ï¸ **é‡è¦æé†’**ï¼š

1. **ç§é‘°å®‰å…¨**ï¼šå¦¥å–„ä¿ç®¡æ‚¨çš„ç§é‘°ï¼Œåˆ‡å‹¿æäº¤è‡³ç‰ˆæœ¬æ§åˆ¶
2. **å¾å°é–‹å§‹**ï¼šå…ˆç”¨å°è³‡é‡‘æ¸¬è©¦ç­–ç•¥
3. **é¢¨éšªæ§åˆ¶**ï¼šè¨­ç½®åˆç†çš„æ­¢æå’Œå€‰ä½é™åˆ¶
4. **ç›£æ§ç³»çµ±**ï¼šæŒçºŒç›£æ§ç³»çµ±é‹è¡Œç‹€æ…‹
5. **ç¶²çµ¡é¢¨éšª**ï¼šæ³¨æ„ API å»¶é²å’Œé€£æ¥å•é¡Œ
6. **å¸‚å ´é¢¨éšª**ï¼šæ¥µç«¯å¸‚å ´æ¢ä»¶ä¸‹å¯èƒ½ç”¢ç”Ÿå¤§é¡è™§æ

## æ€§èƒ½å„ªåŒ–å»ºè­°

1. **ä½¿ç”¨ WebSocket**ï¼šæ¸›å°‘ API èª¿ç”¨å»¶é²
2. **æ‰¹é‡æ“ä½œ**ï¼šåˆä½µè¨‚å–®æ“ä½œæ¸›å°‘è«‹æ±‚æ¬¡æ•¸
3. **æœ¬åœ°ç·©å­˜**ï¼šç·©å­˜å¸‚å ´æ•¸æ“šå’Œè¨‚å–®ç‹€æ…‹
4. **ç•°æ­¥è™•ç†**ï¼šä½¿ç”¨ asyncio æé«˜ä½µç™¼èƒ½åŠ›

## License

MIT License

## æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é–‹å•Ÿ Issue æˆ–è¯ç¹«é–‹ç™¼åœ˜éšŠã€‚

---

**å…è²¬è²æ˜**ï¼šæœ¬ç³»çµ±åƒ…ä¾›å­¸ç¿’å’Œç ”ç©¶ä½¿ç”¨ã€‚å¯¦éš›äº¤æ˜“å­˜åœ¨é¢¨éšªï¼Œä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ“”æ‰€æœ‰æŠ•è³‡é¢¨éšªã€‚
